{% extends 'bootstrap.tmpl' %}
{% load staticfiles %}

{% block title %}Horcrux{% endblock %}

{% block stylesheet %}
  <link rel="stylesheet" href="{% static 'horcrux/css/main.css' %}?via=html">
{% endblock %}

{% block content %}
    <div class="container-fluid">

      <h2 id="title">Horcruxes</h2>

      <section class="panel panel-shrink">
        <div class="panel-heading">
          <h3>Enter version {{ version }} horcruxes</h3>
        </div>
        <form class="panel-body" method="post" action="{% url 'horcrux:combine' %}">
          {% if version == 3 %}
            <p>You have two options: enter the words of each horcrux, or the code. They both represent the same thing, but the words are easier to type.<p>
            <h4>Words</h4>
            <p>Select the number for each horcrux and enter its words. Make sure to separate each word with a space.</p>
            <div>
              <label class="share-ids">number</label>
              <label class="share-words">words</label>
            </div>
            {% for i in share_nums %}
              <div>
              <span class="share-ids">
                <select name="share{{ i }}-id">
                  <option value="1">1</option>
                  <option value="2" {% if i == 1 %}selected{% endif %}>2</option>
                  <option value="3" {% if i == 2 %}selected{% endif %}>3</option>
                  <option value="4" {% if i == 3 %}selected{% endif %}>4</option>
                  <option value="5" {% if i == 4 %}selected{% endif %}>5</option>
                  <option value="6" {% if i == 5 %}selected{% endif %}>6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </span>
              <input type="text" name="share{{ i }}-words" class="share-input share-words" autocomplete="off">
              </div>
            {% endfor %}
          <button class="btn btn-default" type="submit">Submit</button>
          <h4>Codes</h4>
          <p>If you're having trouble with the words, you can type in the codes instead.</p>
          {% endif %}
          <p>Include the number and dash in front of each code, e.g. "1-a9ab3fc225".</p>
          {% csrf_token %}
          <input type="hidden" name="version" value="{{ version }}">
          {% if version == 1 %}
            {% for i in share_nums %}
              <div>
                <textarea name="share{{ i }}" class="share-input"></textarea>
              </div>
            {% endfor %}
          {% elif version >= 2 %}
            {% for i in share_nums %}
              <div>
                <input type="text" name="share{{ i }}" class="share-input share-code" autocomplete="off">
              </div>
            {% endfor %}
          {% endif %}
          <button class="btn btn-default" type="submit">Submit</button>
          <div>
            <p>Wrong version? Try another:</p>
            <a class="btn btn-default" href="{% url 'horcrux:shares' %}?version=1">1</a>
            <a class="btn btn-default" href="{% url 'horcrux:shares' %}?version=2">2</a>
            <a class="btn btn-default" href="{% url 'horcrux:shares' %}?version=3">3</a>
          </div>
        </form>
      </section>

    </div>
{% endblock content %}
